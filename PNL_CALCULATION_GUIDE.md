# ๐ฐ PATRIOT Trading System v2.2 - ะะฐััะตั ะฟัะธะฑัะปะธ/ัะฑััะบะฐ

## ๐ฏ ะะพะฒะฐั ััะฝะบัะธั: ะะฐััะตั P&L ะฟัะธ ะทะฐะบัััะธะธ ะฟะพะทะธัะธะน

### โจ ะงัะพ ะดะพะฑะฐะฒะปะตะฝะพ:

#### ๐ **ะะฒัะพะผะฐัะธัะตัะบะธะน ัะฐััะตั ะฟัะธะฑัะปะธ/ัะฑััะบะฐ**
- ะัะธ ะธัะฟะพะปะฝะตะฝะธะธ **Stop Loss** - ัะฐัััะธััะฒะฐะตััั ัะฑััะพะบ
- ะัะธ ะธัะฟะพะปะฝะตะฝะธะธ **Take Profit** - ัะฐัััะธััะฒะฐะตััั ะฟัะธะฑัะปั
- ะะตะทัะปััะฐั ะฒ **USDT** ั ัะพัะฝะพัััั ะดะพ 2 ะทะฝะฐะบะพะฒ

#### ๐ฑ **ะะพะฒัะต ัะฒะตะดะพะผะปะตะฝะธั ั P&L**

**ะัะธ ััะฐะฑะฐััะฒะฐะฝะธะธ Stop Loss:**
```
๐ ะกะะะะะขะะ ะกะขะะ ะะะะะ ๐

๐ ะกะธะผะฒะพะป: BTCUSDT
๐ ะะฐะฟัะฐะฒะปะตะฝะธะต: LONG
๐ฐ ะะฑัะตะผ: 0.001

๐ต ะฆะตะฝะฐ ะฒัะพะดะฐ: 50000.000000
๐ ะฆะตะฝะฐ ะฒััะพะดะฐ: 48000.000000

๐ ะะะะะซะะฌ: -2.00 USDT

โฐ 04:03:10
```

**ะัะธ ััะฐะฑะฐััะฒะฐะฝะธะธ Take Profit:**
```
๐ฏ ะกะะะะะขะะ ะขะะะ ะะะะะ ๐ฏ

๐ ะกะธะผะฒะพะป: BTCUSDT
๐ ะะฐะฟัะฐะฒะปะตะฝะธะต: LONG
๐ฐ ะะฑัะตะผ: 0.001

๐ต ะฆะตะฝะฐ ะฒัะพะดะฐ: 50000.000000
๐ฏ ะฆะตะฝะฐ ะฒััะพะดะฐ: 55000.000000

๐ฐ ะะะะะซะะฌ: 5.00 USDT

โฐ 04:03:10
```

## ๐ ะะฐะบ ัะฐะฑะพัะฐะตั ะฐะปะณะพัะธัะผ:

```
Orders Watchdog ะบะฐะถะดัะต 5 ัะตะบัะฝะด:
      โ
ะัะพะฒะตััะตั SL/TP ะพัะดะตัะฐ ะดะปั ะฟะพะทะธัะธะน ัะพ ััะฐัััะพะผ SL_TP_PLACED
      โ
    ะัะดะตั ะธัะฟะพะปะฝะตะฝ?
      โ ะะ
ะะฐัััะธััะฒะฐะตั P&L: (ะฆะตะฝะฐ ะฒััะพะดะฐ - ะฆะตะฝะฐ ะฒัะพะดะฐ) ร ะะพะปะธัะตััะฒะพ
      โ
   ะัะผะตะฝัะตั ะพััะฐะฒัะธะนัั ะพัะดะตั (SL ะธะปะธ TP)
      โ
 ะัะฟัะฐะฒะปัะตั ัะฒะตะดะพะผะปะตะฝะธะต ั P&L ะฒ Telegram
      โ
    ะฃะดะฐะปัะตั ะธะท ะพััะปะตะถะธะฒะฐะฝะธั
```

## ๐งฎ ะคะพัะผัะปั ัะฐััะตัะฐ P&L:

### **LONG ะฟะพะทะธัะธะธ:**
```
P&L = (ะฆะตะฝะฐ ะฒััะพะดะฐ - ะฆะตะฝะฐ ะฒัะพะดะฐ) ร ะะพะปะธัะตััะฒะพ

ะัะธะผะตัั:
โข ะัะพะด: 50000, ะััะพะด TP: 55000, ะะพะปะธัะตััะฒะพ: 0.001
  P&L = (55000 - 50000) ร 0.001 = 5.00 USDT โ

โข ะัะพะด: 50000, ะััะพะด SL: 48000, ะะพะปะธัะตััะฒะพ: 0.001  
  P&L = (48000 - 50000) ร 0.001 = -2.00 USDT โ
```

### **SHORT ะฟะพะทะธัะธะธ:**
```
P&L = (ะฆะตะฝะฐ ะฒัะพะดะฐ - ะฆะตะฝะฐ ะฒััะพะดะฐ) ร ะะพะปะธัะตััะฒะพ

ะัะธะผะตัั:
โข ะัะพะด: 50000, ะััะพะด TP: 45000, ะะพะปะธัะตััะฒะพ: 0.001
  P&L = (50000 - 45000) ร 0.001 = 5.00 USDT โ

โข ะัะพะด: 50000, ะััะพะด SL: 52000, ะะพะปะธัะตััะฒะพ: 0.001
  P&L = (50000 - 52000) ร 0.001 = -2.00 USDT โ
```

## ๐ก๏ธ ะะฐัะธัะฝัะต ะผะตัะฐะฝะธะทะผั:

1. **๐ ะะตะฟัะตััะฒะฝัะน ะผะพะฝะธัะพัะธะฝะณ** - ะฟัะพะฒะตัะบะฐ ะบะฐะถะดัะต 5 ัะตะบัะฝะด
2. **๐ซ ะะฒัะพะผะฐัะธัะตัะบะฐั ะพัะผะตะฝะฐ** - ะพััะฐะฒัะธะนัั ะพัะดะตั ะพัะผะตะฝัะตััั ะฟัะธ ะธัะฟะพะปะฝะตะฝะธะธ ะฟะตัะฒะพะณะพ
3. **๐ฑ ะะพะปะฝะฐั ะธะฝัะพัะผะฐัะธั** - ะฒัะต ะดะฐะฝะฝัะต ะพ ัะดะตะปะบะต ะฒ ัะฒะตะดะพะผะปะตะฝะธะธ
4. **๐พ Persistent tracking** - ัะพััะพัะฝะธะต ัะพััะฐะฝัะตััั ะผะตะถะดั ะฟะตัะตะทะฐะฟััะบะฐะผะธ
5. **๐งฎ ะขะพัะฝะพััั ัะฐััะตัะฐ** - ะธัะฟะพะปัะทัะตั ัะตะฐะปัะฝัั ัะตะฝั ะธัะฟะพะปะฝะตะฝะธั (`avgFillPrice`)

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต:

```bash
# ะขะตัั ัะฐััะตัะฐ P&L
python3 test_pnl.py
```

**ะะตะทัะปััะฐั ัะตััะพะฒ:**
- โ LONG Stop Loss: -2.00 USDT (ัะฑััะพะบ) 
- โ LONG Take Profit: 5.00 USDT (ะฟัะธะฑัะปั)
- โ SHORT Stop Loss: -2.00 USDT (ัะฑััะพะบ)
- โ SHORT Take Profit: 5.00 USDT (ะฟัะธะฑัะปั)
- โ ะฃะฒะตะดะพะผะปะตะฝะธั ะพัะฟัะฐะฒะปะตะฝั ะฒ Telegram

## ๐ฏ ะะพะปะฝัะน ะถะธะทะฝะตะฝะฝัะน ัะธะบะป ะพัะดะตัะฐ:

```
1. ๐ ะะะะะขะะซะ ะะะะะ ะะะะะะฉะะ    [ticker_monitor โ order_executor]
         โ
2. ๐ ะะะะะ ะะกะะะะะะ             [orders_watchdog]  
         โ
3. ๐ ะะะะะฆะะฏ ะะขะะะซะขะ            [orders_watchdog - SL/TP ัะฐะทะผะตัะตะฝั]
         โ
4. ๐ ะกะะะะะขะะ ะกะขะะ ะะะะะ        [orders_watchdog - ั P&L]
   ะะะ
   ๐ฏ ะกะะะะะขะะ ะขะะะ ะะะะะ        [orders_watchdog - ั P&L]
         โ
5. โ ะะพะทะธัะธั ะทะฐะบัััะฐ, P&L ัะฐัััะธัะฐะฝ
```

## ๐ ะกัะฐัะธััะธะบะฐ:

ะขะตะฟะตัั ะฒั ะฟะพะปััะฐะตัะต **ะฟะพะปะฝัั ััะฐัะธััะธะบั** ะฟะพ ะบะฐะถะดะพะน ัะดะตะปะบะต:
- ๐ฐ **ะะฑัะตะผ ัะดะตะปะบะธ** ะฒ ะฑะฐะทะพะฒะพะน ะฒะฐะปััะต  
- ๐ต **ะฆะตะฝั ะฒัะพะดะฐ ะธ ะฒััะพะดะฐ** ั ัะพัะฝะพัััั ะดะพ 6 ะทะฝะฐะบะพะฒ
- ๐ **ะะฐะฟัะฐะฒะปะตะฝะธะต ะฟะพะทะธัะธะธ** (LONG/SHORT)
- ๐ **ะคะธะฝะฐะปัะฝัะน P&L** ะฒ USDT
- โฐ **ะัะตะผั ะธัะฟะพะปะฝะตะฝะธั** ะพัะดะตัะฐ

## ๐ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

ะัะต ะฝะพะฒัะต ััะฝะบัะธะธ ะธะฝัะตะณัะธัะพะฒะฐะฝั ะฒ Orders Watchdog ะธ ัะฐะฑะพัะฐัั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะทะฐะฟััะบะต:

```bash
./start_patriot.sh    # ะะฐะฟััะบ ั ะฝะพะฒะพะน ััะฝะบัะธะตะน P&L
```

---

*ะขะตะฟะตัั PATRIOT ะฝะต ัะพะปัะบะพ ัะพัะณัะตั, ะฝะพ ะธ ะฒะตะดะตั ัะพัะฝัะน ััะตั ะบะฐะถะดะพะน ัะดะตะปะบะธ!* ๐ฐ๐
