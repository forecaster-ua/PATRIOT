# üéØ –ê–ù–ê–õ–ò–ó –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê PATRIOT - –≠–¢–ê–ü 1

## üìã 1.1 –ê–ù–ê–õ–ò–ó –¢–ï–ö–£–©–ò–• –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô

### üîç –ò–º–ø–æ—Ä—Ç—ã –∏ —Å–≤—è–∑–∏ –º–æ–¥—É–ª–µ–π:

#### **main_launcher.py** (—Ç–µ–∫—É—â–∏–π - –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª!)
- –ê—Ä—Ö–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è: `ARCHIVE/main_launcher.py`
- –ò–º–ø–æ—Ä—Ç—ã –∞—Ä—Ö–∏–≤–Ω–æ–π –≤–µ—Ä—Å–∏–∏:
  ```python
  from binance_factory import BinanceFactory  ‚ùå –£–î–ê–õ–ò–¢–¨
  from order_generator import set_binance_factory  ‚ùå –£–î–ê–õ–ò–¢–¨
  ```

#### **order_generator.py** (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
- –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è: `process_trading_signal(signal_data: Dict) -> bool`
- –°–≤—è–∑–∏ —Å binance_factory:
  ```python
  binance_factory_instance = None  ‚ùå –£–î–ê–õ–ò–¢–¨
  set_binance_factory()  ‚ùå –£–î–ê–õ–ò–¢–¨
  binance_factory_instance.add_order_to_queue()  ‚ùå –£–î–ê–õ–ò–¢–¨
  ```
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å: Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è + –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö

#### **ticker_monitor.py** (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- –ò–º–ø–æ—Ä—Ç: `from order_generator import process_trading_signal`  ‚úÖ –°–û–•–†–ê–ù–ò–¢–¨
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –í—ã–∑—ã–≤–∞–µ—Ç `process_trading_signal(analysis_result)`

#### **enhanced_signal_processor.py** (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- –ò–º–ø–æ—Ä—Ç: `from order_generator import process_trading_signal`  ‚úÖ –°–û–•–†–ê–ù–ò–¢–¨
- –ù–æ —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç —Å–≤–æ–π Binance API –∫–æ–¥ - —ç—Ç–æ –Ω—É–∂–Ω–æ —É—á–µ—Å—Ç—å!

#### **binance_factory.py** (–ø—É—Å—Ç–æ–π —Ñ–∞–π–ª)
- –§–∞–π–ª –ø—É—Å—Ç–æ–π, –∞—Ä—Ö–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –±—ã–ª–∞ –≤ ARCHIVE/  ‚ùå –ü–û–õ–ù–û–ï –£–î–ê–õ–ï–ù–ò–ï

### üóÇÔ∏è –°—Ö–µ–º–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (–¢–ï–ö–£–©–ê–Ø):
```
ticker_monitor.py 
    ‚Üì analysis_result
order_generator.process_trading_signal()
    ‚Üì Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    ‚Üì binance_factory_instance.add_order_to_queue()  ‚ùå –£–î–ê–õ–ò–¢–¨
binance_factory.py  ‚ùå –£–î–ê–õ–ò–¢–¨
```

### üóÇÔ∏è –°—Ö–µ–º–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (–ù–û–í–ê–Ø):
```
ticker_monitor.py 
    ‚Üì analysis_result
order_generator.process_trading_signal()
    ‚Üì Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ  ‚úÖ –°–û–•–†–ê–ù–ò–¢–¨
    ‚Üì OrderData ‚Üí trading_engine  ‚ú® –ù–û–í–û–ï
trading_engine.py  ‚ú® –ù–û–í–´–ô
    ‚Üì Binance API –æ—Ä–¥–µ—Ä–∞
    ‚Üì Position data ‚Üí position_manager  ‚ú® –ù–û–í–û–ï
position_manager.py  ‚ú® –ù–û–í–´–ô
    ‚Üì –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–æ–ø/—Ç–µ–π–∫
```

## üìä 1.2 –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–• –î–õ–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### **OrderData** (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏):
```python
@dataclass
class OrderData:
    # –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    symbol: str              # "BTCUSDT"
    signal_direction: str    # "LONG" | "SHORT"
    
    # –¶–µ–Ω—ã
    entry_price: float       # –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞
    current_price: float     # –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
    stop_loss: float         # –°—Ç–æ–ø-–ª–æ—Å—Å
    take_profit: float       # –¢–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç
    
    # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    confidence: float        # 0.0 - 1.0
    timeframes: List[str]    # ["1H", "4H"]
    timestamp: datetime
    
    # –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    signal_id: str          # UUID –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
    source: str             # "ticker_monitor" | "enhanced_processor"
    
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    risk_percent: float = 5.0     # % –æ—Ç –∫–∞–ø–∏—Ç–∞–ª–∞
    position_size: Optional[float] = None  # –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ (—Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)
```

## üîß 1.3 API –ú–ï–ñ–î–£ –ú–û–î–£–õ–Ø–ú–ò

### **order_generator.py ‚Üí trading_engine.py**
```python
# –í order_generator.py
def send_to_trading_engine(order_data: OrderData) -> bool:
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –≤ —Ç–æ—Ä–≥–æ–≤—ã–π –¥–≤–∏–∂–æ–∫"""
    pass

# –í trading_engine.py
def receive_order_from_generator(order_data: OrderData) -> OrderResult:
    """–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ—Ä–¥–µ—Ä –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞ –±–∏—Ä–∂–µ"""
    pass
```

### **trading_engine.py ‚Üí position_manager.py**
```python
# –í trading_engine.py
def notify_position_created(position_data: PositionData) -> None:
    """–£–≤–µ–¥–æ–º–ª—è–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–∑–∏—Ü–∏–π –æ –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏"""
    pass

# –í position_manager.py
def add_position_for_monitoring(position_data: PositionData) -> None:
    """–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–∑–∏—Ü–∏—é –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"""
    pass
```

## ‚ö†Ô∏è 1.4 –û–°–û–ë–ï–ù–ù–û–°–¢–ò –ò –ü–†–û–ë–õ–ï–ú–´

### **enhanced_signal_processor.py –∫–æ–Ω—Ñ–ª–∏–∫—Ç**
- ‚ùó –§–∞–π–ª —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π Binance API –∫–æ–¥
- ‚ùó –ò–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π OrderManager –∫–ª–∞—Å—Å
- ‚ùó –î—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±—É–¥—É—â–µ–≥–æ trading_engine.py

**–†–µ—à–µ–Ω–∏–µ**: 
1. –û—Å—Ç–∞–≤–∏—Ç—å enhanced_signal_processor.py –∫–∞–∫ –µ—Å—Ç—å (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –¥–≤–∏–∂–æ–∫)
2. –ù–æ–≤—ã–π trading_engine.py –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞
3. –ü–æ–∑–∂–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### **main_launcher.py –ø—É—Å—Ç–æ–π**
- ‚ùó –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π, –∞—Ä—Ö–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤ ARCHIVE/
- ‚ùó –ù—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

### **–î–≤–æ–π–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã**
- ticker_monitor.py –∏ enhanced_signal_processor.py –æ–±–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç order_generator
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –æ–±–∞ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å order_generator –∫–∞–∫ –º–æ—Å—Ç

## ‚úÖ 1.5 –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô –≠–¢–ê–ü–ê 1

### –ó–∞–¥–∞—á–∞ 1.1: ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ê - –ê–Ω–∞–ª–∏–∑ –∏–º–ø–æ—Ä—Ç–æ–≤
- ‚úÖ –ù–∞–π–¥–µ–Ω—ã –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã binance_factory –∏ order_generator
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ó–∞–¥–∞—á–∞ 1.2: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
- ‚úÖ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å binance_factory.py ‚Üí –£–î–ê–õ–ï–ù (–±—ã–ª –ø—É—Å—Ç–æ–π)
- ‚úÖ –°–æ–∑–¥–∞—Ç—å backup order_generator.py ‚Üí ARCHIVE/order_generator_v1.py
- ‚úÖ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã (quick_test.py, enhanced_signal_processor_backup.py –∏ –¥—Ä.)
- ‚úÖ –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –û—á–∏—Å—Ç–∏—Ç—å __pycache__ –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ó–∞–¥–∞—á–∞ 1.3: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞—Ç—å data_models.py —Å OrderData, PositionData, OrderResult
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å enum'—ã –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –∏–∑ legacy —Ñ–æ—Ä–º–∞—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞—Ç—å utility —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

## üéØ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –≠–¢–ê–ü–£ 2

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –≠—Ç–∞–ø–∞ 1**:
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —Å–æ–∑–¥–∞–Ω—ã  
- ‚úÖ –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
- ‚úÖ API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –æ—á–∏—â–µ–Ω –æ—Ç –º—É—Å–æ—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: ‚úÖ –≠–¢–ê–ü 1 –ó–ê–í–ï–†–®–ï–ù ‚Üí –≠—Ç–∞–ø 2 - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ order_generator.py
